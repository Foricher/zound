@(message: String)

@main("Welcome to Play 2.0") {

  <audio src="/stream.wav" preload autoplay controls></audio>

    <div id="controls">
        <button id="sound-start">Start</button>
        <button id="sound-stop">Stop</button>
    </div>

    <section id="channels">
        <div class="channel" id="channel0">
            <h2>Chan 1</h2>
            <div class="sound-onoff">
                <input type="radio" name="ch0-on" value="sound-on" /> On
                <input type="radio" name="ch0-on" value="sound-off" /> Off
            </div>
            <div>
                <input type="radio" name="ch0-wave" value="wave-sine" /> Sine
                <input type="radio" name="ch0-wave" value="wave-sine" /> Saw
                <br/>
                <input type="radio" name="ch0-wave" value="wave-sine" /> Pulse
                <input type="radio" name="ch0-wave" value="wave-sine" /> Noise
            </div>
            <div class="sound-freq">
                <input type="radio" name="ch0-note" value="164.8" /> C-1
                <input type="radio" name="ch0-note" value="196.0" /> E-1
                <br/>
                <input type="radio" name="ch0-note" value="261.6" /> G-1
                <input type="radio" name="ch0-note" value="329.6" /> C-2
                <br/>
                <input type="radio" name="ch0-note" value="392.0" /> E-3
                <input type="radio" name="ch0-note" value="523.2" /> G-2
            </div>
        </div>
        <div class="channel" id="channel1">
            <h2>Chan 1</h2>
            <div class="sound-onoff">
                <input type="radio" name="ch1-on" value="sound-on" /> On
                <input type="radio" name="ch1-on" value="sound-off" /> Off
            </div>
            <div>
                <input type="radio" name="ch1-wave" value="wave-sine" /> Sine
                <input type="radio" name="ch1-wave" value="wave-sine" /> Saw
                <br/>
                <input type="radio" name="ch1-wave" value="wave-sine" /> Pulse
                <input type="radio" name="ch1-wave" value="wave-sine" /> Noise
            </div>
            <div class="sound-freq">
                <input type="radio" name="ch0-note" value="164.8" /> C-1
                <input type="radio" name="ch0-note" value="196.0" /> E-1
                <br/>
                <input type="radio" name="ch0-note" value="261.6" /> G-1
                <input type="radio" name="ch0-note" value="329.6" /> C-2
                <br/>
                <input type="radio" name="ch0-note" value="392.0" /> E-3
                <input type="radio" name="ch0-note" value="523.2" /> G-2
            </div>
        </div>
        <div class="channel" id="channel2">
            <h2>Chan 1</h2>
            <div class="sound-onoff">
                <input type="radio" name="ch2-on" value="sound-on" /> On
                <input type="radio" name="ch2-on" value="sound-off" /> Off
            </div>
            <div>
                <input type="radio" name="ch2-wave" value="wave-sine" /> Sine
                <input type="radio" name="ch2-wave" value="wave-sine" /> Saw
                <br/>
                <input type="radio" name="ch2-wave" value="wave-sine" /> Pulse
                <input type="radio" name="ch2-wave" value="wave-sine" /> Noise
            </div>
            <div class="sound-freq">
                <input type="radio" name="ch0-note" value="164.8" /> C-1
                <input type="radio" name="ch0-note" value="196.0" /> E-1
                <br/>
                <input type="radio" name="ch0-note" value="261.6" /> G-1
                <input type="radio" name="ch0-note" value="329.6" /> C-2
                <br/>
                <input type="radio" name="ch0-note" value="392.0" /> E-3
                <input type="radio" name="ch0-note" value="523.2" /> G-2
            </div>
        </div>
        <br style="clear:both" />
    </section>
    

    <script type="text/javascript" charset="utf-8">
        $("#sound-start").click(function(){
            $.get("/start");
        });
        $("#sound-stop").click(function(){
            $.get("/stop");
        });
    
        $(".sound-onoff input").click(function(e){
            var $this = $(this),
                chan = parseInt($this.parents("div.channel:first").attr("id").replace(/[^0-9]/g, ""), 10),
                onOff = $this.val().replace("sound-", "");
            console.log(onOff, chan)
            $.get("/osc/" + chan + "/" + onOff);
        });


        $(".sound-freq input").click(function(e){
            var $this = $(this),
                chan = parseInt($this.parents("div.channel:first").attr("id").replace(/[^0-9]/g, ""), 10),
                freq = $this.val();
            console.log(freq, chan)
            $.get("/osc/" + chan + "/freq/" + freq);
        })
    </script>
}
